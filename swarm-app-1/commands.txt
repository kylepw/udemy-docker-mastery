# Networks

docker network create --driver overlay frontend
docker network create --driver overlay backend

# Services

docker service create \
--replicas 3 \
--network frontend \
--publish 80:80 \
--name vote \
dockersamples/examplevotingapp_vote:before

docker service create \
--replicas 1 \
--network frontend \
--name redis \
redis:3.2

# Run this after creating `db` service
docker service create \
--replicas 1 \
--network frontend \
--network backend \
--name worker \
dockersamples/examplevotingapp_worker

docker service create \
--replicas 1 \
--network backend \
--mount type=volume,source=db-data,target=/var/lib/postgresql/data \
--name db \
postgres:9.4

docker service create \
--replicas 1 \
--network backend \
--publish 5008:80 \
--name result \
dockersamples/examplevotingapp_result:before



